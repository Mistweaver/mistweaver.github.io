{"version":3,"sources":["webpack://bryce-egley-dot-com/./src/pages/games/JsDos.tsx"],"names":["id"],"mappings":"oJAqCA,UA7BwB,WAmBpB,OACI,gCACI,uBAAKA,GAAG","file":"component---src-pages-games-js-dos-tsx-54eaa64a0af0b9fa1aaa.js","sourcesContent":["import React, { useRef, useEffect } from \"react\";\r\nimport './DOOM.css';\r\n\r\nimport { DosFactory } from \"js-dos\";\r\n// require(\"js-dos\");\r\n// const Dos = (window as any).Dos as DosFactory;\r\n\r\n\r\nconst JsDos: React.FC = () => {\r\n    /*const ref = useRef<HTMLCanvasElement>(null);\r\n\r\n    useEffect(() => {\r\n        if (ref !== null) {\r\n            const ciPromise = Dos(ref.current as HTMLCanvasElement, {\r\n                wdosboxUrl: \"https://js-dos.com/6.22/current/wdosbox.js\",\r\n            }).then((runtime) => {\r\n                return runtime.fs.extract(\"https://js-dos.com/6.22/current/test/digger.zip\").then(() => {\r\n                    return runtime.main([\"-c\", \"DIGGER.COM\"]);\r\n                });\r\n            });\r\n\r\n            return () => {\r\n                ciPromise.then(ci => ci.exit());\r\n            };\r\n        }\r\n    }, [ref]);\r\n*/\r\n    return(\r\n        <>\r\n            <div id=\"dosbox\"></div>\r\n            {/*<button onclick=\"dosbox.requestFullScreen();\">Make fullscreen</button>\r\n            <script type=\"text/javascript\" src=\"https://js-dos.com/cdn/js-dos-api.js\" ></script>\r\n            <canvas ref={ref} />*/}\r\n        </>\r\n    );\r\n}\r\n\r\nexport default JsDos;\r\n\r\n/*\r\n\r\nfunction renderDoom() {\r\n\t\tvar dosbox = new Dosbox({\r\n\t\t\tid: \"dosbox\",\r\n\t\t\tonload: function (dosbox) {\r\n\t\t\t\tdosbox.run(\"upload/DOOM-@evilution.zip\", \"./doom\");\r\n\t\t\t},\r\n\t\t\tonrun: function (dosbox, app) {\r\n\t\t\t\tconsole.log(\"App '\" + app + \"' is runned\");\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div id=\"dosbox\"></div>\r\n\t\t\t<button onclick=\"dosbox.requestFullScreen();\">Make fullscreen</button>\r\n\t\t\t<script type=\"text/javascript\" src=\"https://js-dos.com/cdn/js-dos-api.js\" ></script>\r\n\t\t\t{renderDoom}\r\n\t\t</>\r\n\t)\r\n*/"],"sourceRoot":""}